"use strict";(self.webpackChunktracetest_docs=self.webpackChunktracetest_docs||[]).push([[5464],{26893:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var n=s(74848),r=s(28453);const i={id:"open",title:"Opening Tracetest",description:"Get started with creating tests by opening Tracetest! Tracetest allows you to quickly build integration and end-to-end tests, powered by your OpenTelemetry traces. Learn how to get started with creating tests once you open Tracetest.",keywords:["tracetest","trace-based testing","observability","distributed tracing","testing"],image:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"},a=void 0,o={id:"getting-started/open",title:"Opening Tracetest",description:"Get started with creating tests by opening Tracetest! Tracetest allows you to quickly build integration and end-to-end tests, powered by your OpenTelemetry traces. Learn how to get started with creating tests once you open Tracetest.",source:"@site/docs/getting-started/open.mdx",sourceDirName:"getting-started",slug:"/getting-started/open",permalink:"/getting-started/open",draft:!1,unlisted:!1,editUrl:"https://github.com/kubeshop/tracetest/blob/main/docs/docs/getting-started/open.mdx",tags:[],version:"current",frontMatter:{id:"open",title:"Opening Tracetest",description:"Get started with creating tests by opening Tracetest! Tracetest allows you to quickly build integration and end-to-end tests, powered by your OpenTelemetry traces. Learn how to get started with creating tests once you open Tracetest.",keywords:["tracetest","trace-based testing","observability","distributed tracing","testing"],image:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"}},c={},d=[{value:"Creating Trace-based Tests",id:"creating-trace-based-tests",level:2},{value:"Creating Trace-based Tests Visually",id:"creating-trace-based-tests-visually",level:2},{value:"Create",id:"create",level:3},{value:"Trigger",id:"trigger",level:3},{value:"Trace",id:"trace",level:3},{value:"Test",id:"test",level:3},{value:"Automate",id:"automate",level:3},{value:"Creating Trace-based Tests Programatically",id:"creating-trace-based-tests-programatically",level:2},{value:"Create",id:"create-1",level:3},{value:"Trigger",id:"trigger-1",level:3},{value:"Output",id:"output",level:3}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["This page showcases opening ",(0,n.jsx)(t.a,{href:"https://app.tracetest.io/",children:"Tracetest"})," for the first time and creating tests."]}),"\n",(0,n.jsx)(t.h2,{id:"creating-trace-based-tests",children:"Creating Trace-based Tests"}),"\n",(0,n.jsx)(t.p,{children:"You can create tests in two ways:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Visually, in the Web UI"}),"\n",(0,n.jsx)(t.li,{children:"Programmatically, in YAML"}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"creating-trace-based-tests-visually",children:"Creating Trace-based Tests Visually"}),"\n",(0,n.jsx)(t.p,{children:"This guide will show how to create end-to-end and integration tests in less than 5 minutes via the Web UI."}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["To view the in-depth guide on creating tests visually, ",(0,n.jsx)(t.a,{href:"/web-ui/creating-tests",children:"check out this docs page"}),"."]})}),"\n",(0,n.jsx)(t.h3,{id:"create",children:"Create"}),"\n",(0,n.jsxs)(t.p,{children:["On the top right, click the ",(0,n.jsx)(t.strong,{children:"Create"})," button and select ",(0,n.jsx)(t.strong,{children:"Create New Test"})," in the drop down."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1688475179/docs/screely-1688475174365_ckq3cn.png",alt:"Create a new test"})}),"\n",(0,n.jsxs)(t.p,{children:["Select an ",(0,n.jsx)(t.strong,{children:"HTTP Request"})," as the ",(0,n.jsx)(t.strong,{children:"test trigger"}),". Clicking ",(0,n.jsx)(t.strong,{children:"Create & Run"})," will save and trigger the test."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1696253160/docs/screely-1696253153066_khjz8y.png",alt:"API test against POST endpoint"})}),"\n",(0,n.jsx)(t.h3,{id:"trigger",children:"Trigger"}),"\n",(0,n.jsx)(t.p,{children:"You'll be redirected to the test page where you can see four tabs and depending on which one you select you'll get access to:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Test trigger and results."}),"\n",(0,n.jsx)(t.li,{children:"The entire distributed trace and trace analysis."}),"\n",(0,n.jsx)(t.li,{children:"Test specification and assertions."}),"\n",(0,n.jsx)(t.li,{children:"How to automate the test."}),"\n"]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["To view the in-depth guide on test results, ",(0,n.jsx)(t.a,{href:"/web-ui/test-results",children:"check out this docs page"}),"."]})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"Trigger"})," tab shows how the test was triggered and what the API response was."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1696253230/docs/screely-1696253224366_f62411.png",alt:"test result"})}),"\n",(0,n.jsx)(t.h3,{id:"trace",children:"Trace"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"Trace"})," tab shows the entire distributed trace for debugging and a trace analysis score."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1688476460/docs/screely-1688476455986_q24aa2.png",alt:"distributed trace and trace analysis score"})}),"\n",(0,n.jsx)(t.h3,{id:"test",children:"Test"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"Test"})," tab shows span attributes. Here you add test specs and assertions on attribute values. You also get a test snippets out-of-the-box for common test cases."]}),"\n",(0,n.jsxs)(t.p,{children:["In the sample below, you see how to assert that all database spans return in less than ",(0,n.jsx)(t.code,{children:"100ms"}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1688476657/docs/screely-1688476653521_omxe4r.png",alt:"test specs"})}),"\n",(0,n.jsx)(t.h3,{id:"automate",children:"Automate"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"Automate"})," tab shows how to automate the test run with the Tracetest CLI and other automation options."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1696285049/docs/screely-1696285040458_vjt0qv.png",alt:"automate"})}),"\n",(0,n.jsx)(t.p,{children:"From here you can download a YAML file test definition and run it with the CLI."}),"\n",(0,n.jsx)(t.h2,{id:"creating-trace-based-tests-programatically",children:"Creating Trace-based Tests Programatically"}),"\n",(0,n.jsx)(t.p,{children:"The test definition will contain:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["The ",(0,n.jsx)(t.strong,{children:"Trigger"})," for the test in the ",(0,n.jsx)(t.code,{children:"trigger"})," section."]}),"\n",(0,n.jsxs)(t.li,{children:["The ",(0,n.jsx)(t.strong,{children:"Test Specifications"})," in the",(0,n.jsx)(t.code,{children:"specs"})," section."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"You can either download the YAML file test definition, or write one from scratch."}),"\n",(0,n.jsx)(t.h3,{id:"create-1",children:"Create"}),"\n",(0,n.jsx)(t.p,{children:"Using the sample from above, create the Trace-based Test programatically."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-yaml",metastring:'title="pokeshop-import.yaml"',children:'type: Test\nspec:\n  id: T7-delWIR\n  name: Pokemon Import\n  trigger:\n    type: http\n    httpRequest:\n      method: POST\n      url: http://localhost:8081/pokemon/import\n      body: "{\\"id\\":52}"\n      headers:\n      - key: Content-Type\n        value: application/json\n  specs:\n  - selector: span[tracetest.span.type="database"]\n    name: "All Database Spans: Processing time is less than 100ms"\n    assertions:\n    - attr:tracetest.span.duration  <  100ms\n    - attr:db.system != ""\n  - selector: span[tracetest.span.type="http"]\n    name: "All HTTP Spans: Status code is 200"\n    assertions:\n    - attr:http.status_code = 200\n'})}),"\n",(0,n.jsx)(t.h3,{id:"trigger-1",children:"Trigger"}),"\n",(0,n.jsx)(t.p,{children:"Using the CLI, trigger a test run."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",metastring:'title="Terminal"',children:"tracetest run test -f pokemon-import.yaml --required-gates test-specs --output pretty\n"})}),"\n",(0,n.jsx)(t.h3,{id:"output",children:"Output"}),"\n",(0,n.jsx)(t.p,{children:"The test run will complete and show a result."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-text",metastring:'title="Output"',children:"\u2714 Pokemon Import (https://app.tracetest.io/organizations/<org_id>/environments/<env_id>/test/T7-delWIR/run/7/test) - trace id: <trace_id>\n\t\u2714 All Database Spans: Processing time is less than 100ms\n\t\u2714 All HTTP Spans: Status code is 200\n"})}),"\n",(0,n.jsx)(t.p,{children:"The provided link in the test output will open the test run in the Tracetest Web UI."})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>o});var n=s(96540);const r={},i=n.createContext(r);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);