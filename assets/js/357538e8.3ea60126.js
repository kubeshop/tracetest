"use strict";(self.webpackChunktracetest_docs=self.webpackChunktracetest_docs||[]).push([[1493],{37278:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var s=n(74848),i=n(28453);const r={id:"run-groups",title:"Run Groups",description:"Tracetest uses the concept of Run Groups that encapsulate one or more runs. Each time a test run is executed in the Tracetest app, a run group is generated that can be found in the UI.",keywords:["tracetest","trace-based testing","observability","distributed tracing","testing","test runs","test run groups"],image:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"},o=void 0,a={id:"concepts/run-groups",title:"Run Groups",description:"Tracetest uses the concept of Run Groups that encapsulate one or more runs. Each time a test run is executed in the Tracetest app, a run group is generated that can be found in the UI.",source:"@site/docs/concepts/run-groups.mdx",sourceDirName:"concepts",slug:"/concepts/run-groups",permalink:"/concepts/run-groups",draft:!1,unlisted:!1,editUrl:"https://github.com/kubeshop/tracetest/blob/main/docs/docs/concepts/run-groups.mdx",tags:[],version:"current",frontMatter:{id:"run-groups",title:"Run Groups",description:"Tracetest uses the concept of Run Groups that encapsulate one or more runs. Each time a test run is executed in the Tracetest app, a run group is generated that can be found in the UI.",keywords:["tracetest","trace-based testing","observability","distributed tracing","testing","test runs","test run groups"],image:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"},sidebar:"tutorialSidebar",previous:{title:"Runs",permalink:"/concepts/runs"},next:{title:"Monitors",permalink:"/concepts/monitors"}},u={},l=[{value:"Using Run Groups from the CLI",id:"using-run-groups-from-the-cli",level:2},{value:"Running multiple tests inside the same group",id:"running-multiple-tests-inside-the-same-group",level:2},{value:"Running multiple tests inside the same group and choosing the group id",id:"running-multiple-tests-inside-the-same-group-and-choosing-the-group-id",level:2},{value:"Adding a new run to an existing group",id:"adding-a-new-run-to-an-existing-group",level:2},{value:"Running multiple tests via <code>id</code> inside the same group and choosing the group id",id:"running-multiple-tests-via-id-inside-the-same-group-and-choosing-the-group-id",level:2},{value:"Running a test suite and multiple tests inside the same run group",id:"running-a-test-suite-and-multiple-tests-inside-the-same-run-group",level:2},{value:"Difference between a test suite and a run group",id:"difference-between-a-test-suite-and-a-run-group",level:2},{value:"Execution time",id:"execution-time",level:3},{value:"Using data from a previous test",id:"using-data-from-a-previous-test",level:3},{value:"Composition",id:"composition",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.admonition,{title:"Commercial Feature",type:"tip",children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://tracetest.io/pricing",children:"Feature available only in Cloud-based Managed Tracetest & Enterprise Self-hosted Tracetest."})})}),"\n",(0,s.jsx)(t.p,{children:"Run Groups are containers that encapsulate one or more runs. Each time a test run is executed in the Tracetest app, a run group is generated that can be found in the UI."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Run Groups UI",src:n(89715).A+"",width:"2874",height:"1570"})}),"\n",(0,s.jsx)(t.p,{children:"Clicking on a run group will show the runs the run group contains:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Run Groups Detail",src:n(63990).A+"",width:"2874",height:"1576"})}),"\n",(0,s.jsx)(t.p,{children:"Run Groups can be used to logically group runs that have context together. This allows specifying a series of tests or test suites to run concurrently. You then wait for the entire collection to pass or fail before making a decision if the entire group succeeded."}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsx)(t.mdxAdmonitionTitle,{}),(0,s.jsx)(t.p,{children:"You can asynchronously run multiple tests from a script in one run group and wait for all of them to finish before deciding whether to deploy a new release."})]}),"\n",(0,s.jsx)(t.p,{children:"Run Groups track the status of all test suites and test runs to yield a single result."}),"\n",(0,s.jsx)(t.p,{children:"Users are allowed to attach more runs to a run group by adding them in the run information that\u2019s available in the CLI."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://docs.tracetest.io/tools-and-integrations/overview",children:"Integrations"})," support this feature by creating a single run group for every execution."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.tracetest.io/tools-and-integrations/k6",children:"k6"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.tracetest.io/tools-and-integrations/playwright",children:"Playwright"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.tracetest.io/tools-and-integrations/cypress",children:"Cypress"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.tracetest.io/tools-and-integrations/artillery-plugin",children:"Artillery"})}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Run groups are essential for integrations! Without it, a k6 test could potentially generate thousands of test runs that would pollute the environment and make it almost impossible to search for test runs not associated with that k6 test run."}),"\n",(0,s.jsx)(t.p,{children:"Another good use case for run groups is for CI runs: usually we don't run a single test or a single test suite to test our systems. You can expect some users to have dozens of suites being run during a CI pipeline. With run groups, all the suite runs from the same pipeline will be shown on the same screen, making it easier for users to understand what failed."}),"\n",(0,s.jsx)(t.p,{children:"Last, but not least important, if multiple tests are run inside a run group, they will run in parallel and finish faster than if you use a test suite to organize your tests. (Test suites run sequentially, so for the next test to be run, the current test must finish executing, which can be pretty time consuming.)"}),"\n",(0,s.jsx)(t.h2,{id:"using-run-groups-from-the-cli",children:"Using Run Groups from the CLI"}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/kubeshop/tracetest/tree/main/examples/tracetest-run-groups-cli",children:"Check out the sample code on GitHub here."})})}),"\n",(0,s.jsxs)(t.p,{children:["You can run multiple tests at once by providing multiple ",(0,s.jsx)(t.code,{children:"-f file.yaml"})," parameters to the ",(0,s.jsx)(t.code,{children:"tracetest run test"})," command. These tests will be placed under the same run group."]}),"\n",(0,s.jsx)(t.p,{children:"You can also manually wait for a run group to be done from the CLI."}),"\n",(0,s.jsxs)(t.p,{children:["View the ",(0,s.jsx)(t.a,{href:"https://github.com/kubeshop/tracetest/tree/main/examples/environment-automation",children:"sample code"}),". You will see multiple test definitions."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",metastring:'title="facebook.yaml"',children:"type: Test\nspec:\n  id: facebook-test\n  name: Facebook\n  trigger:\n    type: http\n    httpRequest:\n      method: GET\n      url: facebook.com\n      headers:\n        - key: Content-Type\n          value: application/json\n  skipTraceCollection: true\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",metastring:'title="google.yaml"',children:"type: Test\nspec:\n  id: google-test\n  name: Google\n  trigger:\n    type: http\n    httpRequest:\n      method: GET\n      url: google.com\n      headers:\n        - key: Content-Type\n          value: application/json\n  skipTraceCollection: true\n"})}),"\n",(0,s.jsx)(t.p,{children:"Run these two tests in a run group like this:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"tracetest run test -f facebook.yaml -f google.yaml -f file.yaml -f ...\n"})}),"\n",(0,s.jsx)(t.p,{children:"Normally, if you run two tests separately, both test runs would be part of different run groups:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"tracetest run test -f test1.yaml\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"tracetest run test -f test2.yaml\n"})}),"\n",(0,s.jsx)(t.p,{children:"You also can specify the run group id when running a test. This would make the test part of the run group."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"tracetest run test -f test1.yaml --group my-pipeline\ntracetest run test -f test2.yaml --group my-pipeline\n"})}),"\n",(0,s.jsxs)(t.p,{children:["With the ",(0,s.jsx)(t.code,{children:"--group"})," argument, both tests would be run in parallel but would be seen inside the same run group."]}),"\n",(0,s.jsxs)(t.p,{children:["The CLI will by default wait for the group to finish running. Use the ",(0,s.jsx)(t.code,{children:"-W"})," or ",(0,s.jsx)(t.code,{children:"--skip-result-wait"})," flags to not wait for results and exit immediately after the run group has started."]}),"\n",(0,s.jsx)(t.h2,{id:"running-multiple-tests-inside-the-same-group",children:"Running multiple tests inside the same group"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"tracetest run test -f test1.yaml -f test2.yaml\n"})}),"\n",(0,s.jsx)(t.p,{children:"Both test runs will be shown on the same run group (with a random id)."}),"\n",(0,s.jsx)(t.h2,{id:"running-multiple-tests-inside-the-same-group-and-choosing-the-group-id",children:"Running multiple tests inside the same group and choosing the group id"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"tracetest run test -f test1.yaml -f test2.yaml --group my-group-id\n"})}),"\n",(0,s.jsx)(t.p,{children:"Both tests will be shown on the same run group (id = my-group-id). If this run group already exists, the two new runs will be placed there with any other test run from that group."}),"\n",(0,s.jsx)(t.h2,{id:"adding-a-new-run-to-an-existing-group",children:"Adding a new run to an existing group"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"tracetest run test -f test3.yaml --group my-group-id\n"})}),"\n",(0,s.jsxs)(t.p,{children:["This new run will be part of the ",(0,s.jsx)(t.code,{children:"my-group-id"})," group along with the ",(0,s.jsx)(t.code,{children:"test1"})," and ",(0,s.jsx)(t.code,{children:"test2"})," runs."]}),"\n",(0,s.jsxs)(t.h2,{id:"running-multiple-tests-via-id-inside-the-same-group-and-choosing-the-group-id",children:["Running multiple tests via ",(0,s.jsx)(t.code,{children:"id"})," inside the same group and choosing the group id"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"tracetest run test --id testid1 --id testid2 --group my-group-id\n"})}),"\n",(0,s.jsxs)(t.p,{children:["You can also use the ",(0,s.jsx)(t.code,{children:"--id"})," of a test saved in Tracetest instead of a test definition file."]}),"\n",(0,s.jsx)(t.h2,{id:"running-a-test-suite-and-multiple-tests-inside-the-same-run-group",children:"Running a test suite and multiple tests inside the same run group"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"tracetest run test -f suite.yaml -f test1.yaml -f test2.yaml\n"})}),"\n",(0,s.jsx)(t.p,{children:"Test suites can also be part of a run group along with other suites or tests."}),"\n",(0,s.jsx)(t.h2,{id:"difference-between-a-test-suite-and-a-run-group",children:"Difference between a test suite and a run group"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1716551731/docs/mermaid-js.github.io_mermaid-live-editor__view_lj7fe6.png",alt:""})}),"\n",(0,s.jsx)(t.h3,{id:"execution-time",children:"Execution time"}),"\n",(0,s.jsx)(t.p,{children:"A test suite only executes the next test when the current test has finished running. So if it contains 4 tests that take 1 minute each, the whole suite will take 4 minutes to complete. Run group tests are run in parallel, so if the same 4 tests are run inside a group, it will complete in 1 minute."}),"\n",(0,s.jsx)(t.h3,{id:"using-data-from-a-previous-test",children:"Using data from a previous test"}),"\n",(0,s.jsx)(t.p,{children:"In suites, you can chain your tests and share data from one test to another. For example, getting the response from the first test and use it as part of the second test definition. This is not possible with run groups."}),"\n",(0,s.jsx)(t.h3,{id:"composition",children:"Composition"}),"\n",(0,s.jsx)(t.p,{children:"Suites can only contain tests inside of it. Groups can contain both tests and suites. This means that if you have 5 tests where 3 are totally independent but the other 2 need each other to work, you can use groups to run those tests in an efficient way:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Running the suite (with 2 tests) and the 3 independent tests in parallel."}),"\n",(0,s.jsx)(t.li,{children:"If all tests take 1 minute to run, the run group would take 2 minutes to run."}),"\n"]})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},63990:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/run-groups-detail-1a9db5e16611f7d13a3b33272c4ef72d.png"},89715:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/run-groups-ui-94e79bee0848041fbbde59bdea89255e.png"},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var s=n(96540);const i={},r=s.createContext(i);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);