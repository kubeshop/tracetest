"use strict";(self.webpackChunktracetest_docs=self.webpackChunktracetest_docs||[]).push([[2251],{31465:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>h});var s=n(74848),r=n(28453),a=n(49489),o=n(7227);n(2250);const i={id:"k6",title:"Performance and Trace-Based Tests with Tracetest and k6",description:"Quickstart on how to use the Tracetest k6 Integration to enhance Performance Tests with Trace-Based Testing using Tracetest.",hide_table_of_contents:!1,keywords:["tracetest","trace-based testing","observability","distributed tracing","testing","k6","xk6","load testing","performance testing"],image:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"},c=void 0,l={id:"tools-and-integrations/k6",title:"Performance and Trace-Based Tests with Tracetest and k6",description:"Quickstart on how to use the Tracetest k6 Integration to enhance Performance Tests with Trace-Based Testing using Tracetest.",source:"@site/docs/tools-and-integrations/k6.mdx",sourceDirName:"tools-and-integrations",slug:"/tools-and-integrations/k6",permalink:"/tools-and-integrations/k6",draft:!1,unlisted:!1,editUrl:"https://github.com/kubeshop/tracetest/blob/main/docs/docs/tools-and-integrations/k6.mdx",tags:[],version:"current",frontMatter:{id:"k6",title:"Performance and Trace-Based Tests with Tracetest and k6",description:"Quickstart on how to use the Tracetest k6 Integration to enhance Performance Tests with Trace-Based Testing using Tracetest.",hide_table_of_contents:!1,keywords:["tracetest","trace-based testing","observability","distributed tracing","testing","k6","xk6","load testing","performance testing"],image:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"},sidebar:"guidesSidebar",previous:{title:"Performance and Trace-Based Tests with Tracetest and Artillery Engine",permalink:"/tools-and-integrations/artillery-engine"},next:{title:"Running Tracetest Core with k6",permalink:"/tools-and-integrations/k6-core"}},d={},h=[{value:"Why is this important?",id:"why-is-this-important",level:2},{value:"The k6 Tracetest Extension",id:"the-k6-tracetest-extension",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Today You&#39;ll Learn About Performance &amp; Trace-Based Tests",id:"today-youll-learn-about-performance--trace-based-tests",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Run This Quckstart Example",id:"run-this-quckstart-example",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"Pokeshop Demo App",id:"pokeshop-demo-app",level:3},{value:"Installing the k6 Tracetest Extension",id:"installing-the-k6-tracetest-extension",level:2},{value:"Using the Tracetest Extension For Load Tests",id:"using-the-tracetest-extension-for-load-tests",level:2},{value:"Creating Your k6 Script",id:"creating-your-k6-script",level:2},{value:"Setting the Environment Variables",id:"setting-the-environment-variables",level:3},{value:"Starting the Pokeshop Demo App",id:"starting-the-pokeshop-demo-app",level:3},{value:"What&#39;s Next?",id:"whats-next",level:2},{value:"Learn More",id:"learn-more",level:2}];function u(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/kubeshop/tracetest/tree/main/examples/tracetest-k6",children:"Check out the source code on GitHub here."})})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://app.tracetest.io/",children:"Tracetest"})," is a testing tool based on ",(0,s.jsx)(t.a,{href:"https://opentelemetry.io/",children:"OpenTelemetry"})," that allows you to test your distributed application. It allows you to use data from distributed traces generated by OpenTelemetry to validate and assert if your application has the desired behavior defined by your test definitions."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://k6.io/",children:"k6"})," is an open-source performance testing tool used for testing the performance of APIs, microservices, and websites. It is designed to be developer-centric, making it easy for developers to write and maintain performance tests as code."]}),"\n",(0,s.jsx)(t.h2,{id:"why-is-this-important",children:"Why is this important?"}),"\n",(0,s.jsx)(t.p,{children:"k6 is it's a great tool in its own right that allows you to replicate most of the production challenges you might encounter. But, as with all of the tools that only test the initial transaction between the client side and the server, you can only run validations against the immediate response from the service."}),"\n",(0,s.jsx)("div",{style:{position:"relative",paddingBottom:"62.5%",height:"0"},children:(0,s.jsx)("iframe",{src:"https://www.loom.com/embed/5c5e1261bb0b4fefa30081294378908c",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0,width:"100%",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}})}),"\n",(0,s.jsx)(t.h2,{id:"the-k6-tracetest-extension",children:"The k6 Tracetest Extension"}),"\n",(0,s.jsxs)(t.p,{children:["With the ",(0,s.jsx)(t.a,{href:"https://github.com/kubeshop/xk6-tracetest",children:"k6 Tracetest extension"}),", you will unlock the power of OpenTelemetry that allows you to run deeper testing based on the traces and spans generated by each of the checkpoints that you define within your services."]}),"\n",(0,s.jsx)(t.p,{children:"Language and Vendor agnostic, with this extension you can use your existing Tracing Data Store and Setup to leverage the work you have already done to instrument your services."}),"\n",(0,s.jsx)(t.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,s.jsx)(t.p,{children:"The following is high level sequence diagram on how k6 and Tracetest interact with the different pieces of the system."}),"\n",(0,s.jsx)(t.mermaid,{value:"sequenceDiagram\n    k6->>+Extension: Trigger HTTP Request\n    Extension->>+Extension: Generate Trace ID and propagation headers\n    Extension->>+Instrumented Service: Sends request with tracing metadata\n    Instrumented Service->>+Data Store: Sends Telemetry data\n    Instrumented Service--\x3e>-Extension: Returns Response\n    Extension->>+Tracetest Agent: Executes the test run using the trace id\n    Tracetest Agent->>+Data Store: Fetches trace using the trace id\n    Data Store--\x3e>-Tracetest Agent: Returns trace\n    Tracetest Agent->>+Tracetest: Sync and store trace in Tracetest\n    Tracetest->>+Tracetest: Runs Assertions against the resulted trace\n    Tracetest->>+Tracetest Agent: Return Assertion results\n    Tracetest Agent--\x3e>-Extension: Returns the run results\n    Extension--\x3e>-k6: Display summary and results"}),"\n",(0,s.jsx)(t.h2,{id:"today-youll-learn-about-performance--trace-based-tests",children:"Today You'll Learn About Performance & Trace-Based Tests"}),"\n",(0,s.jsx)(t.p,{children:"This is a simple quick start guide on how to run the Tracetest k6 extension to run enhanced performance tests with trace-based testing. The infrastructure will use the Pokeshop Demo as a testing ground, triggering requests against it and generating telemetry data."}),"\n",(0,s.jsx)(t.h2,{id:"requirements",children:"Requirements"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Tracetest Account"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Sign up to ",(0,s.jsx)(t.a,{href:"https://app.tracetest.io",children:(0,s.jsx)(t.code,{children:"app.tracetest.io"})})," or follow the ",(0,s.jsx)(t.a,{href:"/getting-started/overview",children:"get started"})," docs."]}),"\n",(0,s.jsxs)(t.li,{children:["Create an ",(0,s.jsx)(t.a,{href:"/concepts/environments",children:"environment"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Create an ",(0,s.jsx)(t.a,{href:"/concepts/environment-tokens",children:"environment token"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Have access to the environment's ",(0,s.jsx)(t.a,{href:"/configuration/agent",children:"agent API key"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Docker"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Have ",(0,s.jsx)(t.a,{href:"https://docs.docker.com/get-docker/",children:"Docker"})," and ",(0,s.jsx)(t.a,{href:"https://docs.docker.com/compose/install/",children:"Docker Compose"})," installed on your machine."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"run-this-quckstart-example",children:"Run This Quckstart Example"}),"\n",(0,s.jsxs)(t.p,{children:["Clone the official ",(0,s.jsx)(t.a,{href:"https://github.com/kubeshop/pokeshop",children:"Tracetest Pokeshop Demo App Repo"})," to your local machine."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"git clone https://github.com/kubeshop/pokeshop.git\ncd pokeshop\n"})}),"\n",(0,s.jsx)(t.p,{children:"Follow these instructions to run the Cypress example:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Copy the ",(0,s.jsx)(t.code,{children:".env.template"})," file to ",(0,s.jsx)(t.code,{children:".env"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Log into the ",(0,s.jsx)(t.a,{href:"https://app.tracetest.io/",children:"Tracetest app"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["This example is configured to use Jaeger. Ensure the environment you will be utilizing to run this example is also configured to use the Jaeger Tracing Backend by clicking on Settings, Tracing Backend, Jaeger, updating the URL to ",(0,s.jsx)(t.code,{children:"jaeger:16685"}),", Test Connection and Save."]}),"\n",(0,s.jsxs)(t.li,{children:["Fill out the ",(0,s.jsx)(t.a,{href:"https://docs.tracetest.io/concepts/environment-tokens",children:"token"})," and ",(0,s.jsx)(t.a,{href:"https://docs.tracetest.io/concepts/agent",children:"agent API key"})," details by editing your ",(0,s.jsx)(t.code,{children:".env"})," file. You can find these values in the Settings area for your environment."]}),"\n",(0,s.jsxs)(t.li,{children:["Change the ",(0,s.jsx)(t.code,{children:"POKESHOP_DEMO_URL"})," to ",(0,s.jsx)(t.code,{children:"http://api:8081"})," in the ",(0,s.jsx)(t.code,{children:".env"})," file."]}),"\n",(0,s.jsxs)(t.li,{children:["Run ",(0,s.jsx)(t.code,{children:"docker compose -f docker-compose.yml -f docker-compose.k6.yml run k6-tracetest"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Follow along with the sections below for an in detail breakdown of what the example you just ran did and how it works."}),"\n",(0,s.jsx)(t.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,s.jsx)(t.p,{children:"The project is built with Docker Compose."}),"\n",(0,s.jsx)(t.h3,{id:"pokeshop-demo-app",children:"Pokeshop Demo App"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"/live-examples/pokeshop/overview",children:"Pokeshop Demo App"})," is a complete example of a distributed application using different backend and front-end services, implementation code is written in Typescript."]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"docker-compose.yml"})," file in the root directory is for the Pokeshop Demo app and the OpenTelemetry setup.\nAnd the ",(0,s.jsx)(t.code,{children:"docker-compose.k6.yml"})," includes the ",(0,s.jsx)(t.a,{href:"/concepts/agent",children:"Tracetest Agent"})," and the K6 Load Tests."]}),"\n",(0,s.jsxs)(t.p,{children:["Finally, the k6 load tests can be found in ",(0,s.jsx)(t.code,{children:"test/k6/import-pokemon.js"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"installing-the-k6-tracetest-extension",children:"Installing the k6 Tracetest Extension"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://github.com/grafana/xk6",children:"Installing the k6 Tracetest extension"})," is as easy as running the following command:"]}),"\n",(0,s.jsxs)(a.A,{groupId:"k6",children:[(0,s.jsx)(o.A,{value:"Linux",label:"Linux",default:!0,children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",metastring:'title="Terminal"',children:'docker run --rm -it -u "$(id -u):$(id -g)" -v "${PWD}:/xk6" \\\n  grafana/xk6 build v0.43.1 \\\n  --with github.com/kubeshop/xk6-tracetest\n'})})}),(0,s.jsx)(o.A,{value:"MacOS",label:"MacOS",default:!0,children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",metastring:'title="Terminal"',children:'docker run --rm -it -e GOOS=darwin -u "$(id -u):$(id -g)" -v "${PWD}:/xk6" \\\n  grafana/xk6 build v0.43.1 \\\n  --with github.com/kubeshop/xk6-tracetest\n'})})}),(0,s.jsx)(o.A,{value:"Windows",label:"Windows",default:!0,children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",metastring:'title="Terminal"',children:'docker run --rm -it -e GOOS=windows -u "$(id -u):$(id -g)" -v "${PWD}:/xk6" `\n  grafana/xk6 build v0.43.1 --output k6.exe `\n  --with github.com/kubeshop/xk6-tracetest\n'})})})]}),"\n",(0,s.jsxs)(t.p,{children:["This will generate the ",(0,s.jsx)(t.code,{children:"k6-tracetest"})," binary in the current directory."]}),"\n",(0,s.jsxs)(t.p,{children:["The instructions can be also found in the main ",(0,s.jsx)(t.a,{href:"https://k6.io/docs/extensions/get-started/bundle/",children:"k6 docs"})," in case you need to combine multiple extensions into one binary."]}),"\n",(0,s.jsx)(t.h2,{id:"using-the-tracetest-extension-for-load-tests",children:"Using the Tracetest Extension For Load Tests"}),"\n",(0,s.jsx)(t.p,{children:"Once you have installed the k6 Tracetest binary, you can use the base k6 functionality to run load tests against instrumented services and Tracetest to run checks against the resulting telemetry data."}),"\n",(0,s.jsx)(t.h2,{id:"creating-your-k6-script",children:"Creating Your k6 Script"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"test/k6/import-pokemon.js"})," file contains the k6 script that will be used to run the performance tests. It is a simple script that will trigger a ",(0,s.jsx)(t.code,{children:"POST"})," request to the ",(0,s.jsx)(t.code,{children:"/pokemon/import"})," Pokeshop Demo app endpoint."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"import { Http, Tracetest } from 'k6/x/tracetest';\nimport { sleep } from 'k6';\n\nexport const options = {\n  vus: 1,\n  duration: '5s',\n};\n\nconst POKESHOP_DEMO_URL = __ENV.POKESHOP_DEMO_URL || 'http://localhost:8081';\n\nconst http = new Http();\nconst tracetest = Tracetest();\n\nlet pokemonId = 6; // charizard\n\nexport default function () {\n  const url = `${POKESHOP_DEMO_URL}/pokemon/import`;\n  const payload = JSON.stringify({\n    id: pokemonId++,\n  });\n  const params = {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n\n// tracetest test definition\n  const definition = `type: Test\nspec:\n  id: k6-tracetest-pokeshop-import-pokemon\n  name: K6\n  description: K6\n  trigger:\n    type: k6\n  specs:\n    - selector: span[tracetest.span.type=\"general\" name=\"import pokemon\"]\n      name: Should have imported the pokemon\n      assertions:\n        - attr:tracetest.selected_spans.count = 1\n    - selector: |-\n        span[tracetest.span.type=\"http\" net.peer.name=\"pokeapi.co\" http.method=\"GET\"]\n      name: Should trigger a request to the POKEAPI\n      assertions:\n        - attr:http.url   =  \"https://pokeapi.co/api/v2/pokemon/${pokemonId}\"\n`;\n\n  const response = http.post(url, payload, params);\n\n  tracetest.runTest(\n    response.trace_id,\n    {\n      definition,\n      should_wait: true,\n    },\n    {\n      url,\n      method: 'GET',\n    }\n  );\n\n  sleep(1);\n}\n\nexport function handleSummary() {\n  return {\n    stdout: tracetest.summary(),\n  };\n}\n\nexport function teardown() {\n  tracetest.validateResult();\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"setting-the-environment-variables",children:"Setting the Environment Variables"}),"\n",(0,s.jsxs)(t.p,{children:["Copy the ",(0,s.jsx)(t.code,{children:".env.template"})," content into a new ",(0,s.jsx)(t.code,{children:".env"})," file."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",metastring:"title=Terminal",children:"cp .env.template .env\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Add the ",(0,s.jsx)(t.a,{href:"/concepts/environment-tokens",children:"Tracetest API Token"})," and ",(0,s.jsx)(t.a,{href:"/configuration/agent",children:"Tracetest Agent API Key"})," to the ",(0,s.jsx)(t.code,{children:"TRACETEST_API_TOKEN"})," and ",(0,s.jsx)(t.code,{children:"TRACETEST_AGENT_API_KEY"})," variables."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",metastring:"title=.env",children:"TRACETEST_API_TOKEN=<YOUR_API_TOKEN> # your environment token\nTRACETEST_AGENT_API_KEY=<YOUR_AGENT_API_KEY>\nPOKESHOP_DEMO_URL=http://api:8081\n"})}),"\n",(0,s.jsx)(t.h3,{id:"starting-the-pokeshop-demo-app",children:"Starting the Pokeshop Demo App"}),"\n",(0,s.jsx)(t.p,{children:"Having the full setup ready, the final step is to run the k6 script. To do that, run the following command:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'docker compose -f docker-compose.yml -f docker-compose.k6.yml run k6-tracetest\nWARN[0000] The "TRACETEST_SERVER_URL" variable is not set. Defaulting to a blank string.\n[+] Creating 9/9\n \u2714 Network pokeshop_default              Created                                                                                                                  0.0s\n \u2714 Container pokeshop-jaeger-1           Created                                                                                                                  0.1s\n \u2714 Container pokeshop-db-1               Created                                                                                                                  0.1s\n \u2714 Container pokeshop-cache-1            Created                                                                                                                  0.1s\n \u2714 Container pokeshop-queue-1            Created                                                                                                                  0.1s\n \u2714 Container pokeshop-tracetest-agent-1  Created                                                                                                                  0.1s\n \u2714 Container pokeshop-otel-collector-1   Created                                                                                                                  0.1s\n \u2714 Container pokeshop-worker-1           Created                                                                                                                  0.1s\n \u2714 Container pokeshop-api-1              Created                                                                                                                  0.1s\n[+] Running 8/8\n \u2714 Container pokeshop-queue-1            Healthy                                                                                                                  7.7s\n \u2714 Container pokeshop-cache-1            Healthy                                                                                                                  2.7s\n \u2714 Container pokeshop-db-1               Healthy                                                                                                                  2.7s\n \u2714 Container pokeshop-tracetest-agent-1  Started                                                                                                                  0.5s\n \u2714 Container pokeshop-jaeger-1           Healthy                                                                                                                  2.1s\n \u2714 Container pokeshop-otel-collector-1   Started                                                                                                                  0.1s\n \u2714 Container pokeshop-api-1              Started                                                                                                                  0.2s\n \u2714 Container pokeshop-worker-1           Started                                                                                                                  0.1s\n\n          /\\      |\u203e\u203e| /\u203e\u203e/   /\u203e\u203e/\n     /\\  /  \\     |  |/  /   /  /\n    /  \\/    \\    |     (   /   \u203e\u203e\\\n   /          \\   |  |\\  \\ |  (\u203e)  |\n  / __________ \\  |__| \\__\\ \\_____/ .io\n\n     execution: local\n        script: /import-pokemon.js\n        output: xk6-tracetest-output (TestRunID: 53770)\n\n     scenarios: (100.00%) 1 scenario, 1 max VUs, 35s max duration (incl. graceful stop):\n              * default: 1 looping VUs for 5s (gracefulStop: 30s)\n\n'})}),"\n",(0,s.jsx)(t.admonition,{title:"View these tests in our Demo environment",type:"tip",children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://app.tracetest.io/organizations/ttorg_2179a9cd8ba8dfa5/invites/invite_760904a64b4b9dc9/accept",children:"\ud83d\udc49 Join our shared Pokeshop API Demo environment."})})}),"\n",(0,s.jsx)(t.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,s.jsx)(t.p,{children:"After running the initial set of tests, you can click the run link for any of them, update the assertions and run the scripts once more. This flow enables complete a trace-based TDD flow."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"assertions",src:n(51487).A+"",width:"960",height:"546"})}),"\n",(0,s.jsx)(t.h2,{id:"learn-more",children:"Learn More"}),"\n",(0,s.jsxs)(t.p,{children:["Please visit our ",(0,s.jsx)(t.a,{href:"https://github.com/kubeshop/tracetest/tree/main/examples",children:"examples in GitHub"})," and join our ",(0,s.jsx)(t.a,{href:"https://dub.sh/tracetest-community",children:"Slack Community"})," for more info!"]})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},7227:(e,t,n)=>{n.d(t,{A:()=>o});n(96540);var s=n(34164);const r={tabItem:"tabItem_Ymn6"};var a=n(74848);function o(e){let{children:t,hidden:n,className:o}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,s.A)(r.tabItem,o),hidden:n,children:t})}},49489:(e,t,n)=>{n.d(t,{A:()=>T});var s=n(96540),r=n(34164),a=n(24245),o=n(56347),i=n(36494),c=n(62814),l=n(45167),d=n(81269);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:n}=e;return(0,s.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:n,attributes:s,default:r}}=e;return{value:t,label:n,attributes:s,default:r}}))}(n);return function(e){const t=(0,l.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const r=(0,o.W6)(),a=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,c.aZ)(a),(0,s.useCallback)((e=>{if(!a)return;const t=new URLSearchParams(r.location.search);t.set(a,e),r.replace({...r.location,search:t.toString()})}),[a,r])]}function g(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,a=u(e),[o,c]=(0,s.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const s=n.find((e=>e.default))??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:t,tabValues:a}))),[l,h]=m({queryString:n,groupId:r}),[g,x]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,a]=(0,d.Dv)(n);return[r,(0,s.useCallback)((e=>{n&&a.set(e)}),[n,a])]}({groupId:r}),k=(()=>{const e=l??g;return p({value:e,tabValues:a})?e:null})();(0,i.A)((()=>{k&&c(k)}),[k]);return{selectedValue:o,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);c(e),h(e),x(e)}),[h,x,a]),tabValues:a}}var x=n(11062);const k={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=n(74848);function b(e){let{className:t,block:n,selectedValue:s,selectValue:o,tabValues:i}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,a.a_)(),d=e=>{const t=e.currentTarget,n=c.indexOf(t),r=i[n].value;r!==s&&(l(t),o(r))},h=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;t=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;t=c[n]??c[c.length-1];break}}t?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},t),children:i.map((e=>{let{value:t,label:n,attributes:a}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,ref:e=>c.push(e),onKeyDown:h,onClick:d,...a,className:(0,r.A)("tabs__item",k.tabItem,a?.className,{"tabs__item--active":s===t}),children:n??t},t)}))})}function j(e){let{lazy:t,children:n,selectedValue:r}=e;const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=a.find((e=>e.props.value===r));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:a.map(((e,t)=>(0,s.cloneElement)(e,{key:t,hidden:e.props.value!==r})))})}function v(e){const t=g(e);return(0,f.jsxs)("div",{className:(0,r.A)("tabs-container",k.tabList),children:[(0,f.jsx)(b,{...e,...t}),(0,f.jsx)(j,{...e,...t})]})}function T(e){const t=(0,x.A)();return(0,f.jsx)(v,{...e,children:h(e.children)},String(t))}},51487:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/tracetest-cloud-k6-resize-1da414fa30d52b4ae648dd62d8571cd0.gif"}}]);