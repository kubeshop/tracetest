"use strict";(self.webpackChunktracetest_docs=self.webpackChunktracetest_docs||[]).push([[5794],{85465:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var i=n(74848),s=n(28453);const r={id:"pagerduty",title:"Creating alerts with PagerDuty",description:"Use Tracetest synthetic monitors and receive PagerDuty alerts when they fail",keywords:["tracetest","trace-based testing","observability","distributed tracing","testing","pagerduty","oncall","kubernetes monitoring"],image:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"},a=void 0,o={id:"tools-and-integrations/pagerduty",title:"Creating alerts with PagerDuty",description:"Use Tracetest synthetic monitors and receive PagerDuty alerts when they fail",source:"@site/docs/tools-and-integrations/pagerduty.mdx",sourceDirName:"tools-and-integrations",slug:"/tools-and-integrations/pagerduty",permalink:"/tools-and-integrations/pagerduty",draft:!1,unlisted:!1,editUrl:"https://github.com/kubeshop/tracetest/blob/main/docs/docs/tools-and-integrations/pagerduty.mdx",tags:[],version:"current",frontMatter:{id:"pagerduty",title:"Creating alerts with PagerDuty",description:"Use Tracetest synthetic monitors and receive PagerDuty alerts when they fail",keywords:["tracetest","trace-based testing","observability","distributed tracing","testing","pagerduty","oncall","kubernetes monitoring"],image:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"},sidebar:"guidesSidebar",previous:{title:"Running Tracetest with Keptn",permalink:"/tools-and-integrations/keptn"},next:{title:"Performance and Trace-Based Tests with Tracetest and Artillery Plugin",permalink:"/tools-and-integrations/artillery-plugin"}},c={},l=[{value:"Quickstart",id:"quickstart",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Create a PagerDuty Service",id:"create-a-pagerduty-service",level:3},{value:"Create a Monitor",id:"create-a-monitor",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.a,{href:"https://tracetest.io/",children:"Tracetest"})," is a testing tool based on OpenTelemetry that permits you to test your distributed application. It allows you to use your trace data generated on your OpenTelemetry tools to check and assert if your application has the desired behavior defined by your test definitions. It also supports ",(0,i.jsx)(t.a,{href:"/examples-tutorials/recipes/synthetic-monitoring-trace-based-api-tests",children:"Synthetic Monitoring"})]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.a,{href:"https://www.pagerduty.com/",children:"PagerDuty"})," is a powerful tool to let you know when things go wrong and require manual intervention to fix it."]}),"\n",(0,i.jsx)(t.p,{children:"By using Tracetest with PagerDuty, you can ensure your application runs as you expect and also get notified when it doesn't work."}),"\n",(0,i.jsx)(t.h2,{id:"quickstart",children:"Quickstart"}),"\n",(0,i.jsx)(t.p,{children:"In this guide, we will show how to use Tracetest's Synthetic Monitoring to run these tests and use its webhook mechanism to alert you when things fail."}),"\n",(0,i.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"A Tracetest account"}),"\n",(0,i.jsx)(t.li,{children:"A PagerDuty account"}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"create-a-pagerduty-service",children:"Create a PagerDuty Service"}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.p,{children:["For a detailed guide, navigate to PagerDuty's support page ",(0,i.jsx)(t.a,{href:"https://support.pagerduty.com/docs/services-and-integrations#create-a-service",children:"Services and Integrations"}),"."]})}),"\n",(0,i.jsx)(t.p,{children:"To create a service in the PagerDuty web app:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Go to ",(0,i.jsx)(t.strong,{children:"Services"})," -> ",(0,i.jsx)(t.strong,{children:"Service Directory"})," and click ",(0,i.jsx)(t.strong,{children:"New Service"}),". On the next screen you will be guided through several steps."]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Enter ",(0,i.jsx)(t.strong,{children:"Name"}),'. We suggest to put a cluster name, for example: "Production EU".']}),"\n",(0,i.jsxs)(t.li,{children:["Click ",(0,i.jsx)(t.strong,{children:"Next"})," to continue."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Select Escalation Policy that suits you best. Click ",(0,i.jsx)(t.strong,{children:"Next"})," to continue."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Select Reduce Noise policy that suits you best. Click ",(0,i.jsx)(t.strong,{children:"Next"})," to continue."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Select the ",(0,i.jsx)(t.strong,{children:"Events API V2"})," integration."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"pagerduty_integration.png",src:n(70698).A+"",width:"1848",height:"1072"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Click ",(0,i.jsx)(t.strong,{children:"Create Service"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Now you will be in the service\u2019s Integrations tab, where you\u2019ll find the ",(0,i.jsx)(t.strong,{children:"Integration Key"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Copy the ",(0,i.jsx)(t.strong,{children:"Integration Key"})," and proceed with the next section."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"pagerduty_app_event_integration_key.png",src:n(66115).A+"",width:"2648",height:"1244"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"create-a-monitor",children:"Create a Monitor"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Go to ",(0,i.jsx)(t.a,{href:"https://app.tracetest.io",children:"Tracetest"})]}),"\n",(0,i.jsx)(t.li,{children:"Access your account"}),"\n",(0,i.jsx)(t.li,{children:'Click on "Monitors"'}),"\n",(0,i.jsx)(t.li,{children:'Click on "Create"'}),"\n",(0,i.jsx)(t.li,{children:"Setup your monitor as you like"}),"\n",(0,i.jsxs)(t.li,{children:['On the "Alert" tab, add the information provided by PagerDuty',"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:'For the method, use "POST"'}),"\n",(0,i.jsxs)(t.li,{children:['Set the URL to "',(0,i.jsx)(t.a,{href:"https://events.pagerduty.com/v2/enqueue",children:"https://events.pagerduty.com/v2/enqueue"}),'"']}),"\n",(0,i.jsx)(t.li,{children:'Select "JSON" in the "Body" dropdown'}),"\n",(0,i.jsx)(t.li,{children:"Paste the suggested body from the PagerDuty page and adjust the messages as needed, it should look like this:"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n    "payload": {\n        "summary": "Title of my alert",\n        "severity": "critical",\n        "source": "Alert source"\n    },\n    "routing_key": "<routing_key>",\n    "event_action": "trigger"\n}\n'})}),"\n",(0,i.jsxs)(t.ol,{start:"5",children:["\n",(0,i.jsxs)(t.li,{children:["Click on the play button to test your alert, PagerDuty should be notified by this action\n",(0,i.jsx)(t.img,{alt:"pagerduty_app_test_alert.png",src:n(30057).A+"",width:"648",height:"917"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:'Click on "Create" to finish the Monitor setup'}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},66115:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/pagerduty_app_event_integration_key-a305026331d9c5207c8d8383164937b9.png"},70698:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/pagerduty_app_integration-73a997ee682a7abbde6a9e1d39fb4d8e.png"},30057:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/pagerduty_app_test_alert-9168dae94755e227af151417509b3b22.png"},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(96540);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);