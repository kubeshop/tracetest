"use strict";(self.webpackChunktracetest_docs=self.webpackChunktracetest_docs||[]).push([[9965],{20719:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var t=i(74848),s=i(28453);const r={id:"environment-automation",title:"Environment Automation",description:"Tracetest allows the creation of an environment from the CLI and provisioning it with any type of resource, including tests, test suites, tracing backends, test runners, polling profiles, invites, tokens, etc.",keywords:["tracetest","trace-based testing","observability","distributed tracing","testing","test runs","test run groups","environments"],image:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"},o=void 0,c={id:"concepts/environment-automation",title:"Environment Automation",description:"Tracetest allows the creation of an environment from the CLI and provisioning it with any type of resource, including tests, test suites, tracing backends, test runners, polling profiles, invites, tokens, etc.",source:"@site/docs/concepts/environment-automation.mdx",sourceDirName:"concepts",slug:"/concepts/environment-automation",permalink:"/concepts/environment-automation",draft:!1,unlisted:!1,editUrl:"https://github.com/kubeshop/tracetest/blob/main/docs/docs/concepts/environment-automation.mdx",tags:[],version:"current",frontMatter:{id:"environment-automation",title:"Environment Automation",description:"Tracetest allows the creation of an environment from the CLI and provisioning it with any type of resource, including tests, test suites, tracing backends, test runners, polling profiles, invites, tokens, etc.",keywords:["tracetest","trace-based testing","observability","distributed tracing","testing","test runs","test run groups","environments"],image:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"},sidebar:"tutorialSidebar",previous:{title:"prefer-dns",permalink:"/analyzer/rules/prefer-dns"},next:{title:"Versioning",permalink:"/concepts/versioning"}},a={},l=[{value:"Resource Definition",id:"resource-definition",level:2},{value:"Tracing Backend",id:"tracing-backend",level:3},{value:"Trace Polling",id:"trace-polling",level:3},{value:"Demo",id:"demo",level:3},{value:"Analyzer",id:"analyzer",level:3},{value:"Test Runner",id:"test-runner",level:3},{value:"Variable Sets",id:"variable-sets",level:3},{value:"Provisioning Environments",id:"provisioning-environments",level:2},{value:"CI Environments",id:"ci-environments",level:2},{value:"Role Access",id:"role-access",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/examples-tutorials/recipes/provisioning-developer-environment-cli",children:"Check out the the recipes section for a step by step tutorial using the Tracetest CLI here."})})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/examples-tutorials/recipes/provisioning-developer-environment-script",children:"Check out the the recipes section for a step by step tutorial using a Bash Script here."})})}),"\n",(0,t.jsx)(n.h2,{id:"resource-definition",children:"Resource Definition"}),"\n",(0,t.jsx)(n.p,{children:"The Tracetest Web UI provides several options for maintaining Resource Definitions for Tracetest constructs."}),"\n",(0,t.jsx)(n.h3,{id:"tracing-backend",children:"Tracing Backend"}),"\n",(0,t.jsxs)(n.p,{children:["When you are in your tracing environment for your org, in ",(0,t.jsx)(n.strong,{children:"Settings"}),", under the ",(0,t.jsx)(n.strong,{children:"Tracing Backend"})," tab, you will find the link to the ",(0,t.jsx)(n.strong,{children:"Resource Definition"})," modal:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Resource Definition",src:i(58650).A+"",width:"1840",height:"926"})}),"\n",(0,t.jsxs)(n.p,{children:["Clicking on the ",(0,t.jsx)(n.strong,{children:"Resource Definition"})," link will open the modal:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Resource Definition Modal",src:i(73106).A+"",width:"1840",height:"916"})}),"\n",(0,t.jsx)(n.p,{children:"The YAML definition is in the left panel, where you can rename, download or copy the YAML file."}),"\n",(0,t.jsx)(n.p,{children:"On the right are the automate commands for applying this resource in the CLI."}),"\n",(0,t.jsx)(n.h3,{id:"trace-polling",children:"Trace Polling"}),"\n",(0,t.jsxs)(n.p,{children:["Similarly, on the ",(0,t.jsx)(n.strong,{children:"Trace Polling"})," tab, you will find the ",(0,t.jsx)(n.strong,{children:"Resource Definition"})," link for each polling profile in the trace:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Trace Polling Resource Definition",src:i(89708).A+"",width:"1854",height:"670"})}),"\n",(0,t.jsxs)(n.p,{children:["Selecting the ",(0,t.jsx)(n.strong,{children:"Definition"})," link will open the ",(0,t.jsx)(n.strong,{children:"Resource Definition"})," modal:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Trace Polling Resource Definition Modal",src:i(26112).A+"",width:"1848",height:"918"})}),"\n",(0,t.jsx)(n.h3,{id:"demo",children:"Demo"}),"\n",(0,t.jsxs)(n.p,{children:["On the ",(0,t.jsx)(n.strong,{children:"Demo"})," tab, you will find link to work with resource definitions, as well:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Demo Resource Definition",src:i(70910).A+"",width:"1852",height:"920"})}),"\n",(0,t.jsx)(n.h3,{id:"analyzer",children:"Analyzer"}),"\n",(0,t.jsxs)(n.p,{children:["On the ",(0,t.jsx)(n.strong,{children:"Analyzer"})," tab, click on ",(0,t.jsx)(n.strong,{children:"Resource Definition"}),":"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Analyzer Resource Definition",src:i(37285).A+"",width:"1852",height:"796"})}),"\n",(0,t.jsx)(n.p,{children:"The analyzer modal shows one single action."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Analyzer Resource Definition Modal",src:i(8337).A+"",width:"1934",height:"974"})}),"\n",(0,t.jsx)(n.h3,{id:"test-runner",children:"Test Runner"}),"\n",(0,t.jsxs)(n.p,{children:["On the ",(0,t.jsx)(n.strong,{children:"Test Runner"})," tab, click on ",(0,t.jsx)(n.strong,{children:"Resource Definition"}),":"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Test Runner Resource Definition",src:i(64158).A+"",width:"1944",height:"698"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Test Runner Resource Definition Modal",src:i(51774).A+"",width:"1946",height:"744"})}),"\n",(0,t.jsx)(n.h3,{id:"variable-sets",children:"Variable Sets"}),"\n",(0,t.jsxs)(n.p,{children:["In the navigation panel on the left of the screen, click on ",(0,t.jsx)(n.strong,{children:"Variable Sets"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"This will open the modal for the Variable Set's resource definition:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Resource Definition Modal",src:i(90932).A+"",width:"1936",height:"736"})}),"\n",(0,t.jsx)(n.h2,{id:"provisioning-environments",children:"Provisioning Environments"}),"\n",(0,t.jsx)(n.p,{children:"Tracetest allows the creation of an environment from the CLI and provisioning it with any type of resource."}),"\n",(0,t.jsx)(n.p,{children:"The resources that can be provisioned in an environment are:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"analyzer"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"config"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"datastore"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"demo"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"environment"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"environmenttoken"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"invite"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"pollingprofile"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"test"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"testrunner"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"testsuite"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"variableset"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Use this feature to quickly spin up new environments for integration testing or CI builds."}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["You can find code examples ",(0,t.jsx)(n.a,{href:"https://github.com/kubeshop/tracetest/tree/main/examples/environment-automation",children:"here"}),".\nThese files are in a folder called ",(0,t.jsx)(n.a,{href:"https://github.com/kubeshop/tracetest/tree/main/examples/environment-automation/resources",children:"\u201c/resources\u201d"}),"."]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="environment.yaml"',children:"type: Environment\nspec:\n  name: my-demo-env\n  description: My env desc\n  resources: ./resources # this is a folder\n"})}),"\n",(0,t.jsx)(n.p,{children:"The apply command for creating this environment:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal"',children:"tracetest apply environment -f ./path/to/environment.yaml\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You will now see the created environment and all resources from the ",(0,t.jsx)(n.code,{children:"resources"})," folder in the Tracetest Web UI."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Environments",src:i(93440).A+"",width:"2560",height:"1600"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Environment Tests",src:i(68243).A+"",width:"2560",height:"1600"})}),"\n",(0,t.jsx)(n.h2,{id:"ci-environments",children:"CI Environments"}),"\n",(0,t.jsx)(n.p,{children:"Environments can be created in an automation/CI pipeline without user interaction."}),"\n",(0,t.jsxs)(n.p,{children:["These environments can be generated for PRs or feature branches, when merging code, when deploying code to ",(0,t.jsx)(n.code,{children:"QA"}),", ",(0,t.jsx)(n.code,{children:"staging"}),", or beyond."]}),"\n",(0,t.jsx)(n.h3,{id:"role-access",children:"Role Access"}),"\n",(0,t.jsxs)(n.p,{children:["An automated environment can only be accessed by an ",(0,t.jsx)(n.code,{children:"admin"})," or ",(0,t.jsx)(n.code,{children:"owner"})," role. As a ",(0,t.jsx)(n.code,{children:"member"})," role you will see a ",(0,t.jsx)(n.code,{children:"Send Request"})," button when accessing the environment link."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1716963408/docs/no-access-min_1_zdsuie.png",alt:"request access"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"admin"})," and ",(0,t.jsx)(n.code,{children:"owner"})," can grant access via an email they recieve after the request is clicked."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://res.cloudinary.com/djwdcmwdz/image/upload/v1716962956/docs/image_67_kgtqkp.png",alt:"grant access email"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8337:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/analyzer-resource-definition-modal-0c45b30769b509dfa9537aabd5e4460b.png"},37285:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/analyzer-resource-definition-d675276737a8c219cb9bba7a14fe944f.png"},70910:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/demo-resource-definition-022b49888d295952e531bfb0ab1bb0ba.png"},68243:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/environment-tests-7058b3ecb91b4c596f6c37cc5fbae0f5.png"},93440:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/environments-c35f32e61d9933d7ce0edccd9abfd572.png"},73106:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/resource-definition-modal-37afe4d3d30175a63c429d864866e703.png"},58650:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/resource-definition-4ee1c9c41a911c1b37bf21838e306ab0.png"},51774:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/test-runner-resource-definition-modal-313491d93228f0b7b3c2bc0d8bb8ca23.png"},64158:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/test-runner-resource-definition-4f88608621bf154bde6240e8d41ce5c1.png"},26112:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/trace-polling-resource-definition-modal-4d5911574c326452dcf67a98a2ddc292.png"},89708:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/trace-polling-resource-definition-60743d6c588bf595ff4c7f68a3d33613.png"},90932:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/variable-set-resource-definition-modal-f855963d1ae630de6875ce589e6bbc3c.png"},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var t=i(96540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);