openapi: 3.0.0
components:
  schemas:
    Trigger:
      type: object
      properties:
        type:
          type: string
          enum: ["http", "grpc", "traceid"]
        # TODO: remove after test migration
        triggerType:
          type: string
          enum: ["http", "grpc", "traceid"]
        # TODO: remove after test migration
        http:
          $ref: "./http.yaml#/components/schemas/HTTPRequest"
        httpRequest:
          $ref: "./http.yaml#/components/schemas/HTTPRequest"
        grpc:
          $ref: "./grpc.yaml#/components/schemas/GRPCRequest"
        traceid:
          $ref: "./traceid.yaml#/components/schemas/TRACEIDRequest"

    TriggerResult:
      type: object
      properties:
        # TODO: remove after test migration
        triggerType:
          type: string
          enum: ["http", "grpc", "traceid"]
        type:
          type: string
          enum: ["http", "grpc", "traceid"]
        triggerResult:
          type: object
          properties:
            http:
              $ref: "./http.yaml#/components/schemas/HTTPResponse"
            grpc:
              $ref: "./grpc.yaml#/components/schemas/GRPCResponse"
            traceid:
              $ref: "./traceid.yaml#/components/schemas/TRACEIDResponse"
