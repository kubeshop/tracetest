openapi: 3.0.0
components:
  schemas:
    LinternResourceList:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: "#/components/schemas/LinternResource"
    LinternResource:
      type: object
      properties:
        type:
          type: string
          enum:
            - Lintern
        spec:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            enabled:
              type: boolean
            minimumScore:
              type: integer
            plugins:
              type: array
              items:
                $ref: "#/components/schemas/LinternResourcePlugin"
    LinternResourcePlugin:
      type: object
      properties:
        name:
          type: string
        enabled:
          type: boolean
        required:
          type: boolean
    LinternResult:
      type: object
      properties:
        passed:
          type: boolean
        score:
          type: integer
        plugins:
          type: array
          items:
            $ref: "#/components/schemas/LinternResultPlugin"
    LinternResultPlugin:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        passed:
          type: boolean
        score:
          type: integer
        rules:
          type: array
          items:
            $ref: "#/components/schemas/LinternResultPluginRule"
    LinternResultPluginRule:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        passed:
          type: boolean
        weight:
          type: integer
        tips:
          type: array
          items:
            type: string
        results:
          type: array
          items:
            $ref: "#/components/schemas/LinternResultPluginRuleResult"
    LinternResultPluginRuleResult:
      type: object
      properties:
        spanId:
          type: string
        errors:
          type: array
          items:
            type: string
        passed:
          type: boolean
        severity:
          type: string
          enum:
            - error
            - warning
