<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ci-cd-automation/testkube-pipeline" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Testkube Kubernetes-native Test Runner Pipeline | Tracetest Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.tracetest.io/ci-cd-automation/testkube-pipeline"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Testkube Kubernetes-native Test Runner Pipeline | Tracetest Docs"><meta data-rh="true" name="description" content="Use Tracetest with Testkube to add trace-based testing to Kubernetes-native CI/CD pipelines. Run scheduled and synthetic tests against trace data."><meta data-rh="true" property="og:description" content="Use Tracetest with Testkube to add trace-based testing to Kubernetes-native CI/CD pipelines. Run scheduled and synthetic tests against trace data."><meta data-rh="true" name="keywords" content="tracetest,trace-based testing,observability,distributed tracing,testing,testkube"><meta data-rh="true" property="og:image" content="https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"><meta data-rh="true" name="twitter:image" content="https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://docs.tracetest.io/ci-cd-automation/testkube-pipeline"><link data-rh="true" rel="alternate" href="https://docs.tracetest.io/ci-cd-automation/testkube-pipeline" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.tracetest.io/ci-cd-automation/testkube-pipeline" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://L2ILN3GLIL-dsn.algolia.net" crossorigin="anonymous"><!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-MZ7RNS7",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager --><link rel="stylesheet" href="/assets/css/styles.e1508e8d.css">
<script src="/assets/js/runtime~main.d3e18018.js" defer="defer"></script>
<script src="/assets/js/main.e9aedcb1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><a target="_blank" rel="noopener noreferrer" href="https://tracetest.io/blog/get-started-with-cloud-based-managed-tracetest">📚 Get started with Trace-based Testing: Embrace test-driven development with observability, using real data, and skip the hassle of mocks and black box testing 🔥</a></div></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://tracetest.io/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo-landscape.svg" alt="Tracetest Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-landscape-dark.svg" alt="Tracetest Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/examples-tutorials/overview">Examples &amp; Guides</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Support</a><ul class="dropdown__menu"><li><a href="https://tracetest.io/support" target="_blank" rel="noopener noreferrer" class="dropdown__link">Overview<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://tracetest.io/community" target="_blank" rel="noopener noreferrer" class="dropdown__link">Community<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://tracetest.io/pricing" target="_blank" rel="noopener noreferrer" class="dropdown__link">Pricing<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://dub.sh/tracetest-community" target="_blank" rel="noopener noreferrer" class="dropdown__link">Talk to us in Slack<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/kubeshop/tracetest/issues/new/choose" target="_blank" rel="noopener noreferrer" class="dropdown__link">Open an issue in GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://tracetest.io/learn" target="_blank" rel="noopener noreferrer" class="dropdown__link">Learn<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://tracetest.io/contact" target="_blank" rel="noopener noreferrer" class="dropdown__link">Contact Us<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item"><iframe src="https://ghbtns.com/github-btn.html?user=kubeshop&repo=tracetest&type=star&count=true&size=medium" style="margin-top: 8px" frameborder="0" scrolling="0" width="120" height="20" title="GitHub"></iframe></div></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://app.tracetest.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link sign-in-button">Sign In<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a href="https://tracetest.io/" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_isFc"><img src="/img/logo-landscape.svg" alt="Tracetest Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-landscape-dark.svg" alt="Tracetest Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/examples-tutorials/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/examples-tutorials/recipes">Recipes</a><button aria-label="Expand sidebar category &#x27;Recipes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/tools-and-integrations/overview">Tools &amp; Integrations</a><button aria-label="Expand sidebar category &#x27;Tools &amp; Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/ci-cd-automation/overview">CI/CD Automation</a><button aria-label="Collapse sidebar category &#x27;CI/CD Automation&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ci-cd-automation/github-actions-pipeline-with-secrets">Github Actions Pipeline with Secrets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ci-cd-automation/testkube-pipeline">Testkube Kubernetes-native Test Runner Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ci-cd-automation/tekton-pipeline">Tekton Cloud-native Pipeline</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/examples-tutorials/videos">Videos &amp; Recordings</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/live-examples/pokeshop/overview">Live Examples</a><button aria-label="Expand sidebar category &#x27;Live Examples&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ci-cd-automation/overview"><span itemprop="name">CI/CD Automation</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Testkube Kubernetes-native Test Runner Pipeline</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Testkube Kubernetes-native Test Runner Pipeline</h1></header><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><a href="/tools-and-integrations/testkube">Check out how the integration works, here.</a></p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="running-scheduled-trace-based-tests">Running Scheduled Trace-based Tests<a href="#running-scheduled-trace-based-tests" class="hash-link" aria-label="Direct link to Running Scheduled Trace-based Tests" title="Direct link to Running Scheduled Trace-based Tests">​</a></h2>
<p><a href="https://app.tracetest.io/" target="_blank" rel="noopener noreferrer">Tracetest</a> is a testing tool based on <a href="https://opentelemetry.io/" target="_blank" rel="noopener noreferrer">OpenTelemetry</a> that allows you to test your distributed application. It uses data from distributed traces generated by OpenTelemetry to validate and assert if your application has the desired behavior described by your test definitions.</p>
<p><a href="https://testkube.io/" target="_blank" rel="noopener noreferrer">Testkube</a> is a Kubernetes-native testing framework for Testers and Developers that allows you to automate the executions of your existing testing tools inside your Kubernetes cluster, removing all the complexity from your CI/CD/GitOps pipelines.</p>
<p>By using the <a href="https://docs.testkube.io/test-types/executor-tracetest" target="_blank" rel="noopener noreferrer">Testkube Tracetest Executor</a> you can unlock Testkube&#x27;s capacity in conjunction with Tracetest, and leverage the work you have already done to instrument your services.</p>
<div style="position:relative;padding-bottom:62.5%;height:0"><iframe src="https://www.youtube.com/embed/nAp3zYgykok" title="Trace-based testing in Kubernetes with Testkube and Tracetest" frameborder="0" width="100%" style="position:absolute;top:0;left:0;width:100%;height:100%"></iframe></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-do-we-want-to-run-tracetest-with-testkube">Why do we want to run Tracetest with Testkube?<a href="#why-do-we-want-to-run-tracetest-with-testkube" class="hash-link" aria-label="Direct link to Why do we want to run Tracetest with Testkube?" title="Direct link to Why do we want to run Tracetest with Testkube?">​</a></h2>
<p>Tracetest leverages existing OpenTelemetry instrumentation to run assertions against every part of a distributed transaction.</p>
<p>By integrating with Testkube you can now add Tracetest to the native CI/CD pipeline in your Kubernetes cluster. It allows you to run scheduled tests and synthetic tests. All while following the trace-based testing principle and enabling full in-depth assertions against trace data, not just the response.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="infrastructure-overview">Infrastructure Overview<a href="#infrastructure-overview" class="hash-link" aria-label="Direct link to Infrastructure Overview" title="Direct link to Infrastructure Overview">​</a></h2>
<p>The following is high level sequence diagram on how Testkube and Tracetest interact with the different pieces of the system:</p>
<!-- -->
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="quickstart">Quickstart<a href="#quickstart" class="hash-link" aria-label="Direct link to Quickstart" title="Direct link to Quickstart">​</a></h2>
<p>This guide will show how to use Testkube alongside Tracetest to run scheduled Trace-based tests in a Kubernetes cluster.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h3>
<p><strong>Tracetest account</strong>:</p>
<ul>
<li>Sign up to <a href="https://app.tracetest.io" target="_blank" rel="noopener noreferrer"><code>app.tracetest.io</code></a> or follow the <a href="/getting-started/overview">get started</a> docs.</li>
<li>Create an <a href="/concepts/organizations">organization</a> and <a href="/concepts/environments">environment</a>.</li>
<li>Deploy the <a href="/configuration/agent">Tracetest Agent</a> in your cluster.</li>
<li>Create an <a href="/concepts/environment-tokens">environment token</a>.</li>
</ul>
<p><strong>Testkube account</strong>:</p>
<ul>
<li>Sign up to <a href="https://app.testkube.io" target="_blank" rel="noopener noreferrer"><code>app.testkube.io</code></a> or follow the <a href="https://docs.testkube.io/articles/getting-started" target="_blank" rel="noopener noreferrer">get started</a> docs.</li>
<li>Create a Testkube environment.</li>
<li>Deploy the <a href="https://docs.testkube.io/testkube-pro/articles/installing-agent" target="_blank" rel="noopener noreferrer">Testkube Agent</a> in your cluster.</li>
</ul>
<p>Remember, in your Kubernetes cluster you should have:</p>
<ol>
<li><code>Tracetest Agent</code>.</li>
<li><code>Testkube Agent</code>.</li>
<li><code>OpenTelemetry Instrumented Service</code>: In order to generate traces and spans, the service under test must support the basics for <a href="https://opentelemetry.io/docs/reference/specification/context/api-propagators/" target="_blank" rel="noopener noreferrer">propagation</a> through HTTP requests, and also store traces and spans into a Tracing Backend (Jaeger, Grafana Tempo, OpenSearch, etc) or use the <a href="https://docs.tracetest.io/configuration/overview#using-tracetest-without-a-trace-data-store" target="_blank" rel="noopener noreferrer">OpenTelemetry Collector</a>. If you are using a Tracing Backend, the Tracetest Agent requires network access to it. In case of using the OpenTelemetry Collector, you need to setup your collector to send trace data to the Tracetest Agent.</li>
</ol>
<p>On your machine you should have:</p>
<ol>
<li><code>Kubectl</code> <a href="https://kubernetes.io/docs/tasks/tools/" target="_blank" rel="noopener noreferrer">installed</a>.</li>
<li><code>Testkube CLI</code> <a href="https://docs.testkube.io/articles/install/cli" target="_blank" rel="noopener noreferrer">installed</a>.</li>
<li><code>Helm</code> <a href="https://helm.sh/docs/intro/install/" target="_blank" rel="noopener noreferrer">installed</a></li>
</ol>
<p>With everything set up, we will start configuring Testkube and Tracetest to run scheduled Trace-based tests.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-connect-your-testkube-cli-to-your-testkube-environment">1. Connect your Testkube CLI to your Testkube Environment<a href="#1-connect-your-testkube-cli-to-your-testkube-environment" class="hash-link" aria-label="Direct link to 1. Connect your Testkube CLI to your Testkube Environment" title="Direct link to 1. Connect your Testkube CLI to your Testkube Environment">​</a></h3>
<p>To use the Testkube CLI with your Testkube account you need to set the CLI Context. For that you need a Testkube Pro token. When the token is created, you are ready to change the Testkube CLI context:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">testkube </span><span class="token builtin class-name">set</span><span class="token plain"> context </span><span class="token parameter variable" style="color:#36acaa">-c</span><span class="token plain"> cloud </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain"> testkube-environment-id </span><span class="token parameter variable" style="color:#36acaa">-o</span><span class="token plain"> testkube-organization-id </span><span class="token parameter variable" style="color:#36acaa">-k</span><span class="token plain"> testkube-token</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For more information see the Testkube <a href="https://docs.testkube.io/testkube-pro/articles/managing-cli-context" target="_blank" rel="noopener noreferrer">Connecting from the CLI</a> docs.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-create-a-test-in-tracetest">2. Create a Test in Tracetest<a href="#2-create-a-test-in-tracetest" class="hash-link" aria-label="Direct link to 2. Create a Test in Tracetest" title="Direct link to 2. Create a Test in Tracetest">​</a></h3>
<p>In the environment in your <a href="https://app.tracetest.io" target="_blank" rel="noopener noreferrer">Tracetest</a> account, start by clicking <code>Tests</code> &gt; <code>Create</code> &gt; <code>HTTP</code>, then <code>Enter the URL of your OpenTelemetry Instrumented Service</code> and click <code>Run</code>. Remember that you need the Tracetest Agent deployed and configured in your environment so it can trigger the request and fetch the trace data.</p>
<p>This will trigger the test and display the distributed trace in the <code>Test</code> tab to run assertions against.</p>
<p><img decoding="async" loading="lazy" alt="Tracetest distributed trace test run view" src="/assets/images/tracetest01-67b93e285c970e37dd93a5759d56a4e9.png" width="3396" height="2230" class="img_ev3q"></p>
<p>Proceed to add a test spec to assert all database queries return within 500 ms. Click the <code>Test</code> tab and proceed to click the <code>Add Test Spec</code> button.</p>
<p>In the span selector make sure to add this selector:</p>
<div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">span[tracetest.span.type=</span><span class="token string" style="color:#e3116c">&quot;database&quot;</span><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the assertion field add:</p>
<div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">attr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tracetest.span.duration &lt; </span><span class="token number" style="color:#36acaa">500</span><span class="token unit">ms</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Save the test spec and publish the test.</p>
<p><img decoding="async" loading="lazy" alt="Assertion for database queries" src="/assets/images/tracetest02-95ccf059ab573ade45919f38e73a7d21.png" width="3396" height="2230" class="img_ev3q"></p>
<p>The database spans that are returning in less than 500ms are labeled in green.</p>
<p><img decoding="async" loading="lazy" alt="Assertions passing" src="/assets/images/tracetest03-9430069c5b1b30d250fd1ffbdfc560ee.png" width="3396" height="2230" class="img_ev3q"></p>
<p>This is an example of a trace-based test that asserts against every single part of an HTTP transaction, including all interactions with the database.</p>
<p>However, Tracetest cannot run this test as part of your CI/CD without integrating with another tool.</p>
<p>Let&#x27;s introduce how Testkube makes it possible.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-create-a-trace-based-test-with-tracetest-in-testkube">3. Create a Trace-based Test with Tracetest in Testkube<a href="#3-create-a-trace-based-test-with-tracetest-in-testkube" class="hash-link" aria-label="Direct link to 3. Create a Trace-based Test with Tracetest in Testkube" title="Direct link to 3. Create a Trace-based Test with Tracetest in Testkube">​</a></h3>
<p>Click the <code>Automate</code> tab in the top of your screen. This will show the YAML definition for the test run.</p>
<p><img decoding="async" loading="lazy" alt="tracetest test yaml file" src="/assets/images/tracetest04-99b9d5622da052bf4075d484adf5286d.png" width="3396" height="2230" class="img_ev3q"></p>
<p>Click the <code>Download File</code> button and this will save your definition in a yaml format.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> RUkKQ_aVR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pokeshop </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> List</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Get a Pokemon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">trigger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">httpRequest</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//demo</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pokemon</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">api.demo/pokemon</span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain">take=20</span><span class="token important">&amp;skip=0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">method</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> GET</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Content</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">specs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Database queries less than 500 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> span</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">tracetest.span.type=&quot;database&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">assertions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> attr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">tracetest.span.duration  &lt;  500ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Execute the following command to create the test executor object in Testkube. Do not forget to provide the path to your Tracetest definition file using the <code>--file</code> argument, and also the following variables:</p>
<ul>
<li><code>TRACETEST_TOKEN</code>: your <a href="/concepts/environment-tokens">environment token</a>.</li>
<li><code>TRACETEST_ENVIRONMENT</code>: your <a href="/concepts/environments">environment id</a>.</li>
<li><code>TRACETEST_ORGANIZATION</code>: your <a href="/concepts/organizations">organization id</a>.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl testkube create </span><span class="token builtin class-name">test</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--file</span><span class="token plain"> my/file/location.yaml </span><span class="token parameter variable" style="color:#36acaa">--type</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tracetest/test&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> pokeshop-tracetest-test </span><span class="token parameter variable" style="color:#36acaa">--variable</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">TRACETEST_TOKEN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tracetest-token </span><span class="token parameter variable" style="color:#36acaa">--variable</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">TRACETEST_ENVIRONMENT</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tracetest-environment-id </span><span class="token parameter variable" style="color:#36acaa">--variable</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">TRACETEST_ORGANIZATION</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tracetest-organization-id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Expected output</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Test created testkube / pokeshop-tracetest-test 🥇</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Opening the Testkube Dashboard will show the test is created successfully.</p>
<p><img decoding="async" loading="lazy" src="https://res.cloudinary.com/djwdcmwdz/image/upload/v1679071918/Blogposts/Docs/screely-1679071913649_yrgucd.png" alt="Tracetest test created in Testkube" class="img_ev3q"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4-run-the-tracetest-trace-based-test-in-testkube">4. Run the Tracetest Trace-based Test in Testkube<a href="#4-run-the-tracetest-trace-based-test-in-testkube" class="hash-link" aria-label="Direct link to 4. Run the Tracetest Trace-based Test in Testkube" title="Direct link to 4. Run the Tracetest Trace-based Test in Testkube">​</a></h3>
<p>Finally, to run the test, execute the following command, or run the test from the Testkube Dashboard.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl testkube run </span><span class="token builtin class-name">test</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--watch</span><span class="token plain"> pokeshop-tracetest-test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here&#x27;s what the Testkube CLI will look like if the test passes.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">🚚 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">TracetestRunner</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Preparing </span><span class="token builtin class-name">test</span><span class="token plain"> run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🌍 Configuring Tracetest CLI with Token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🌍 Using arguments to configure CLI: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">configure </span><span class="token parameter variable" style="color:#36acaa">--token</span><span class="token plain"> tracetest-token </span><span class="token parameter variable" style="color:#36acaa">--organization</span><span class="token plain"> tracetest-organization-id </span><span class="token parameter variable" style="color:#36acaa">--environment</span><span class="token plain"> tracetest-environment-id</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🚀 Configure </span><span class="token builtin class-name">command</span><span class="token plain"> tracetest configure </span><span class="token parameter variable" style="color:#36acaa">--token</span><span class="token plain"> tracetest-token </span><span class="token parameter variable" style="color:#36acaa">--organization</span><span class="token plain"> tracetest-organization-id </span><span class="token parameter variable" style="color:#36acaa">--environment</span><span class="token plain"> tracetest-environment-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🔬 Executing </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> directory </span><span class="token builtin class-name">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $ tracetest configure </span><span class="token parameter variable" style="color:#36acaa">--token</span><span class="token plain"> tracetest-token </span><span class="token parameter variable" style="color:#36acaa">--organization</span><span class="token plain"> tracetest-organization-id </span><span class="token parameter variable" style="color:#36acaa">--environment</span><span class="token plain"> tracetest-environment-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> SUCCESS  Successfully configured Tracetest CLI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Execution succeeded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🌍 Using arguments to run test: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">run </span><span class="token builtin class-name">test</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--file</span><span class="token plain"> /data/test-content </span><span class="token parameter variable" style="color:#36acaa">--output</span><span class="token plain"> pretty</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🚀 Test run </span><span class="token builtin class-name">command</span><span class="token plain"> tracetest run </span><span class="token builtin class-name">test</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--file</span><span class="token plain"> /data/test-content </span><span class="token parameter variable" style="color:#36acaa">--output</span><span class="token plain"> pretty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🔬 Executing </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> directory </span><span class="token builtin class-name">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> $ tracetest run </span><span class="token builtin class-name">test</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--file</span><span class="token plain"> /data/test-content </span><span class="token parameter variable" style="color:#36acaa">--output</span><span class="token plain"> pretty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✔ RunGroup: </span><span class="token comment" style="color:#999988;font-style:italic">#58WmDuBSR (https://app.tracetest.io/organizations/tracetest-organization-id/environments/tracetest-environment-id/run/58WmDuBSR)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Summary: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> passed, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> failed, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> pending</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✔ Pokeshop - List </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">https://app.tracetest.io/organizations/tracetest-organization-id/environments/tracetest-environment-id/test/R5NITR14g/run/1/test</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> - trace id: 3cdcb56d6c226f7083f45d6b3d278051</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	✔ span</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">tracetest.span.type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;http&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	✔ span</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">tracetest.span.type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;database&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And, here&#x27;s the Testkube Dashboard.</p>
<p><img decoding="async" loading="lazy" alt="testkube" src="/assets/images/testkube01-44de0a1ac4390ca81292ce2ab94069be.png" width="3362" height="2270" class="img_ev3q"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5-create-a-trace-based-test-that-runs-every-minute">5. Create a Trace-based Test That Runs Every Minute<a href="#5-create-a-trace-based-test-that-runs-every-minute" class="hash-link" aria-label="Direct link to 5. Create a Trace-based Test That Runs Every Minute" title="Direct link to 5. Create a Trace-based Test That Runs Every Minute">​</a></h3>
<p>By using Testkube&#x27;s <a href="https://docs.testkube.io/concepts/scheduling" target="_blank" rel="noopener noreferrer">scheduling</a>, you can trigger this test every minute.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl testkube create </span><span class="token builtin class-name">test</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--file</span><span class="token plain"> my/file/location.yaml </span><span class="token parameter variable" style="color:#36acaa">--type</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tracetest/test&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> pokeshop-tracetest-scheduled-test </span><span class="token parameter variable" style="color:#36acaa">--schedule</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;*/1 * * * *&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--variable</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">TRACETEST_TOKEN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tracetest-token </span><span class="token parameter variable" style="color:#36acaa">--variable</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">TRACETEST_ENVIRONMENT</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tracetest-environment-id </span><span class="token parameter variable" style="color:#36acaa">--variable</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">TRACETEST_ORGANIZATION</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tracetest-organization-id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Expected output</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Test created testkube / pokeshop-tracetest-scheduled-test 🥇</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In your Testkube Dashboard you&#x27;ll see this test run continuously and get triggered every minute.</p>
<p><img decoding="async" loading="lazy" src="https://res.cloudinary.com/djwdcmwdz/image/upload/v1679330588/Blogposts/Docs/screely-1679330581788_izl5vs.png" alt="scheduled test" class="img_ev3q"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="whats-next">What&#x27;s Next?<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s Next?" title="Direct link to What&#x27;s Next?">​</a></h2>
<p>To explore more options that Testkube gives you, check out <a href="https://docs.testkube.io/concepts/triggers" target="_blank" rel="noopener noreferrer">test triggers</a>. They enable you to trigger tests based on Kubernetes events.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="learn-more">Learn More<a href="#learn-more" class="hash-link" aria-label="Direct link to Learn More" title="Direct link to Learn More">​</a></h2>
<p>Please visit our <a href="https://docs.tracetest.io/" target="_blank" rel="noopener noreferrer">documentation</a> and join our <a href="https://dub.sh/tracetest-community" target="_blank" rel="noopener noreferrer">Slack Community</a> for more info!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/kubeshop/tracetest/blob/main/docs/docs/ci-cd-automation/testkube-pipeline.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ci-cd-automation/github-actions-pipeline-with-secrets"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Github Actions Pipeline with Secrets</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ci-cd-automation/tekton-pipeline"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tekton Cloud-native Pipeline</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#running-scheduled-trace-based-tests" class="table-of-contents__link toc-highlight">Running Scheduled Trace-based Tests</a></li><li><a href="#why-do-we-want-to-run-tracetest-with-testkube" class="table-of-contents__link toc-highlight">Why do we want to run Tracetest with Testkube?</a></li><li><a href="#infrastructure-overview" class="table-of-contents__link toc-highlight">Infrastructure Overview</a></li><li><a href="#quickstart" class="table-of-contents__link toc-highlight">Quickstart</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#1-connect-your-testkube-cli-to-your-testkube-environment" class="table-of-contents__link toc-highlight">1. Connect your Testkube CLI to your Testkube Environment</a></li><li><a href="#2-create-a-test-in-tracetest" class="table-of-contents__link toc-highlight">2. Create a Test in Tracetest</a></li><li><a href="#3-create-a-trace-based-test-with-tracetest-in-testkube" class="table-of-contents__link toc-highlight">3. Create a Trace-based Test with Tracetest in Testkube</a></li><li><a href="#4-run-the-tracetest-trace-based-test-in-testkube" class="table-of-contents__link toc-highlight">4. Run the Tracetest Trace-based Test in Testkube</a></li><li><a href="#5-create-a-trace-based-test-that-runs-every-minute" class="table-of-contents__link toc-highlight">5. Create a Trace-based Test That Runs Every Minute</a></li></ul></li><li><a href="#whats-next" class="table-of-contents__link toc-highlight">What&#39;s Next?</a></li><li><a href="#learn-more" class="table-of-contents__link toc-highlight">Learn More</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dub.sh/tracetest-community" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/tracetest_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/87135575" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tracetest.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Home</a></li><li class="footer__item"><a href="https://tracetest.io/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/kubeshop/tracetest" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Kubeshop, Inc.</div></div></div></footer></div>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MZ7RNS7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>