---
id: polling-profiles
title: Polling Profiles
description: Polling profiles define how Tracetest will interact with a Tracing Backend to retrieve traces from tests
keywords:
  - tracetest
  - trace-based testing
  - observability
  - distributed tracing
  - testing
image: https://res.cloudinary.com/djwdcmwdz/image/upload/v1698686403/docs/Blog_Thumbnail_14_rsvkmo.jpg
---

When running trace-based testing, it is crucial to have the trace generated by the test execution. Usually, these traces are stored
in a tracing backend (Jaeger, Tempo, etc) or they can be sent directly to Tracetest via OpenTelemetry Collector. In both cases, the trace is not
complete as soon as the test is run, the application might run a long-running operation or is batching generated spans before sending them
to the tracing backend. In any case, spans are not sent instantaneously and are not available for Tracetest as soon as the test trigger is
done running.

This means that Tracetest needs to check periodically if the trace is complete or not. For this, a **Polling Profile** is used. This profile
tells Tracetest how often and how long to wait for a trace to finish. Every Tracetest environment has one default polling profile, meaning that any
test will use that profile when trying to fetch the trace from the tracing backend. Since version v1.0.0, users can now specify a different
polling profile per test. This makes more sense than having a single profile, due to some tests being pretty quick to run and others can take minutes
to hours to finish executing.

```yaml
# test.yaml
type: Test
spec:
    name: my quick test
    pollingProfile: ./quick-polling-profile.yaml
    trigger:
        type: http
        httpRequest:
            url: http://${env:ENDPOINT}/api/resource
            method: GET
```

```yaml
# quick-polling-profile.yaml
type: PollingProfile
spec:
    name: quick polling profile
    strategy: periodic
    periodic:
        retryDelay: 5s
        timeout: 60s
```

**retryDelay**: How long Tracetest must wait between trace polling tries. If set as 5s, Tracetest will try to get the trace every 5 seconds.
**timeout**: How long Tracetest must keep trying getting a trace. If it takes more than the value set in timeout, the test fails.
